@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root { height: 100%; }
body { -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; background: var(--bg); color: var(--text); }

.glass-effect {
	background: var(--glass-bg);
	backdrop-filter: blur(24px);
	-webkit-backdrop-filter: blur(24px);
	border: 1px solid var(--glass-border);
}

.material-symbols-outlined {
	font-variation-settings: 'wght' 400;
	font-family: 'Material Symbols Outlined';
}

/* Theme variables for light/dark. Use CSS variables so the panel can change them at runtime. */
:root{
	/* Light theme variables (from provided design) */
	--bg: #f0f4f8; /* background-light */
	--bg-contrast: #ffffff;
	--glass-bg: rgba(255,255,255,0.6);
	--glass-border: rgba(0,0,0,0.05);
	--primary: #258cf4;
	--primary-20: rgba(37,140,244,0.1);
	--primary-30: rgba(37,140,244,0.2);
	--primary-50: rgba(37,140,244,0.3);

	/* extracted variables requested by user */
	--panel-bg: rgba(255,255,255,0.85);
	--input-bg: #ffffff;
	--input-bg-darker: #e9eef3; /* slightly darker than card background for inputs in light theme */
	--disable-audio-bg: #f87171; /* soft red for Disable Audio in light theme */
	--knob-bg: #ffffff; /* knob circle background in light theme */
	--icon-bg: var(--primary-30); /* top icon inner circle background (blue) */
	--input-select-bg: var(--input-bg);
	--text-primary: #1e293b; /* text-primary */
	--text-secondary: #64748b; /* text-secondary */
	--text: var(--text-primary);
	--muted: rgba(30,41,59,0.6);
	--chat-btn-text: #ffffff;
	--delete-btn-text: #ffffff;
}
.dark {
	/* Dark theme overrides */
	--bg: #101922;
	--bg-contrast: rgba(28,38,49,0.6);
	--glass-bg: rgba(28,38,49,0.6);
	--glass-border: rgba(255,255,255,0.06);
	--primary: #258cf4;
	--primary-20: rgba(37,140,244,0.2);
	--primary-30: rgba(37,140,244,0.3);
	--primary-50: rgba(37,140,244,0.5);

	--panel-bg: rgba(28,38,49,0.6);
	--input-bg: rgba(255,255,255,0.03);
	--input-bg-darker: rgba(255,255,255,0.03);
	--disable-audio-bg: rgba(255,255,255,0.03);
	--knob-bg: #0b1220; /* darker knob background for dark theme */
	--icon-bg: rgba(37,140,244,0.3);
	--input-select-bg: rgba(255,255,255,0.03);
	/* make dropdown darker in dark theme for better contrast */
	--input-select-bg: #0f1720;
	--text-primary: #ffffff;
	--text-secondary: rgba(255,255,255,0.75);
	--text: var(--text-primary);
	--muted: rgba(255,255,255,0.7);

	--chat-btn-text: var(--text);
	--delete-btn-text: var(--text);
}

/* helper classes that use css variables for colors */
.bg-var-primary { background: var(--primary) }
.bg-var-glass { background: var(--glass-bg); border: 1px solid var(--glass-border) }
.text-var { color: var(--text) }

/* panel / inputs use extracted variables */
.bg-panel { background: var(--panel-bg) }
.bg-input { background: var(--input-bg) }
.bg-input-darker { background: var(--input-bg-darker) }
.text-primary { color: var(--text-primary) }
.text-secondary { color: var(--text-secondary) }

.text-chat { color: var(--chat-btn-text) }
.text-delete { color: var(--delete-btn-text) }

/* Disable audio button bg */
.bg-disable-audio { background: var(--disable-audio-bg) }

/* volume knob and icon backgrounds */
.knob-bg { background: var(--knob-bg) }
.bg-icon { background: var(--icon-bg) }

/* input/select background variant (for dropdowns) */
.bg-input-select { background: var(--input-select-bg) }

/* Animated panel enter/exit */
@keyframes panelEnter {
	from { opacity: 0; transform: translateY(-6px) scale(0.98); }
	to { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes panelExit {
	from { opacity: 1; transform: translateY(0) scale(1); }
	to { opacity: 0; transform: translateY(-6px) scale(0.98); }
}
.panel-open { animation: panelEnter 180ms ease-out forwards }
.panel-closed { animation: panelExit 160ms ease-in forwards }

/* Notice banner animations */
@keyframes noticeIn { from { opacity: 0; transform: translateY(-8px) scale(0.98) } to { opacity: 1; transform: translateY(0) scale(1) } }
@keyframes noticeOut { from { opacity: 1; transform: translateY(0) scale(1) } to { opacity: 0; transform: translateY(-8px) scale(0.98) } }
.notice-enter { animation: noticeIn 220ms ease-out forwards }
.notice-exit { animation: noticeOut 180ms ease-in forwards }

/* Ensure select text uses theme color */
.bg-input-select, .bg-input-select option { color: var(--text); }

/* ensure select element itself uses the theme background */
.bg-input-select { background: var(--input-select-bg); -webkit-appearance: none; -moz-appearance: none; appearance: none; color: var(--text); border-radius: 6px; }
.bg-input-select option { color: var(--text); background: var(--input-select-bg); }

/* icon color: blue in light theme, inherit/white in dark */
.icon-top { color: var(--primary) }
.dark .icon-top { color: var(--text) }

/* Notice overlay and focus effect so it appears above the walkie-talkie */
.notice-overlay { z-index: 99999 }
@keyframes noticeFocus {
	0% { box-shadow: 0 0 0 0 rgba(37,140,244,0.0); transform: translateY(-2px) scale(0.995) }
	50% { box-shadow: 0 8px 24px rgba(37,140,244,0.12), 0 0 0 6px rgba(37,140,244,0.08); transform: translateY(0) scale(1) }
 100% { box-shadow: 0 12px 40px rgba(37,140,244,0.08), 0 0 0 4px rgba(37,140,244,0.06); transform: translateY(0) scale(1) }
}
.notice-focus { animation: noticeFocus 420ms cubic-bezier(.2,.9,.2,1) forwards }

/* text variables for specific buttons so light theme can force white */
:root { --add-friend-btn-text: #ffffff; --join-btn-text: #ffffff; --enable-audio-text: #ffffff; }
.dark { --add-friend-btn-text: var(--text); --join-btn-text: var(--text); --enable-audio-text: var(--text); }
.text-add-friend { color: var(--add-friend-btn-text) }
.text-join { color: var(--join-btn-text) }
.text-enable-audio { color: var(--enable-audio-text) }
.whitespace-nowrap { white-space: nowrap }

